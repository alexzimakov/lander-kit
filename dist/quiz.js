(()=>{var r=class n extends CustomEvent{static get type(){return"quizQuestionChange"}constructor(){super(n.type,{bubbles:!0})}},l=class extends HTMLElement{get parentPage(){let t=this.parentElement;for(;t;){if(t instanceof h)return t;t=t.parentElement}return null}get optional(){return this.hasAttribute("optional")}get value(){return""}get valid(){return this.optional?!0:this.value.length>0}get name(){return this.getAttribute("name")||""}get result(){return{name:this.name,value:this.value}}};function v(n){let t=n.split(`
`),e=0;return t.length>0&&t.forEach(i=>{let o=i.match(/^ */);if(o){let b=o[0].length;b>0&&(e===0||b<e)&&(e=b)}}),t.map(i=>i.slice(e)).join(`
`).trim()}function s(n,...t){let e=n.raw,i="";return t.forEach((o,b)=>{let f=e[b];Array.isArray(o)&&(o=o.join("")),f.endsWith("!")&&(o=C(o),f=f.slice(0,-1)),i+=f,i+=o}),i+=e[e.length-1],v(i)}function C(n){return n.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}var x=":host{--gap:40px}.container{gap:var(--gap);display:grid}";var h=class extends HTMLElement{constructor(){super(),this.render()}get parentForm(){let t=this.parentElement;for(;t;){if(t instanceof u)return t;t=t.parentElement}return null}get questions(){return Array.from(this.children).filter(t=>t instanceof l)}get valid(){return this.questions.every(t=>t.valid)}get result(){return this.questions.map(t=>t.result)}render(){let t=document.createElement("style");t.innerText=x,this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=s`
      <div class="container">
        <slot name=""></slot>
      </div>
    `,this.shadowRoot.prepend(t)}};var w=":host{--button-height:40px;--button-padding-inline:19px;--button-font-size:16px;--button-font-weight:500;--button-line-height:24px;--button-disabled-opacity:.5;--button-color:#fff;--outline-button-color:#111827;--button-background:#111827;--outline-button-background:#fff;--button-border-width:1px;--button-border-style:solid;--button-border-color:#374151;--outline-button-border-color:#d1d5db;--button-border-radius:8px;--icon-button-size:40px;--icon-button-border-radius:50%;--controls-margin-top:40px;--controls-gap:12px;--page-padding:0;--page-max-width:576px;--page-background:none;--page-border-radius:12px;--page-border-width:1px;--page-border-style:solid;--page-border-color:transparent;--page-shadow:none;flex-direction:column;display:flex}.body{box-sizing:border-box;background:#f9fafb;flex-grow:1;justify-content:center;align-items:center;padding:16px;display:flex}.page{box-sizing:border-box;width:100%;max-width:var(--page-max-width);padding:var(--page-padding);background:var(--page-background);border-color:var(--page-border-color);border-style:var(--page-border-style);border-width:var(--page-border-width);border-radius:var(--page-border-radius);box-shadow:var(--page-shadow)}.btn{box-sizing:border-box;height:var(--button-height);padding-block:0;padding-inline:var(--button-padding-inline);font-family:inherit;font-size:var(--button-font-size);font-weight:var(--button-font-weight);line-height:var(--button-line-height);color:var(--button-color);appearance:none;cursor:default;background:var(--button-background);border-color:var(--button-border-color);border-style:var(--button-border-style);border-width:var(--button-border-width);border-radius:var(--button-border-radius);justify-content:center;align-items:center;display:inline-flex}.btn[hidden]{display:none}.btn[data-disabled]{pointer-events:none;opacity:var(--button-disabled-opacity)}.btn_outline{--button-color:var(--outline-button-color);--button-background:var(--outline-button-background);--button-border-color:var(--outline-button-border-color)}.btn_icon{--button-border-radius:var(--icon-button-border-radius);width:var(--icon-button-size);height:var(--icon-button-size);padding:0}.controls{gap:var(--controls-gap);margin-top:var(--controls-margin-top);justify-content:center;align-items:center;display:flex}.progress-bar{clip-path:inset(30px);background:conic-gradient(#00f 75%,#6495ed 0%);border-radius:50%;width:100px;height:100px;display:inline-block}";var u=class extends HTMLElement{constructor(){super(),this._submitHandler=null,this.backButtonLabel=this.getAttribute("back-button-label")||"Back",this.nextButtonLabel=this.getAttribute("next-button-label")||"Next",this.submitButtonLabel=this.getAttribute("submit-button-label")||"Finish",this.handleChildrenChange=this.handleChildrenChange.bind(this),this.handleBackButtonClick=this.handleBackButtonClick.bind(this),this.handleNextButtonClick=this.handleNextButtonClick.bind(this),this.handleQuizQuestionChange=this.handleQuizQuestionChange.bind(this),this.render()}get pages(){return Array.from(this.children).filter(t=>t instanceof h)}get shouldHideBackButton(){return this.hasAttribute("hide-back-button")}get defaultSlot(){return this.shadowRoot.querySelector('slot[name=""]')}get backButton(){return this.shadowRoot.querySelector("button.prev")}get nextButton(){return this.shadowRoot.querySelector("button.next")}get currentPage(){return this.pages.find(e=>!e.hidden)||null}get onSubmit(){return this._submitHandler}set onSubmit(t){this._submitHandler=t}get results(){return this.pages.flatMap(t=>t.result)}isFirstPage(t){let e=this.pages;return e.length>0?e.indexOf(t)===0:!1}isLastPage(t){let e=this.pages;return e.length>0?e.indexOf(t)===e.length-1:!1}goToPageAfter(t){let e=this.pages,i=e.indexOf(t),o=e[i+1];return o?(t.hidden=!0,o.hidden=!1,!0):!1}goToPageBefore(t){let e=this.pages,i=e.indexOf(t),o=e[i-1];return o?(t.hidden=!0,o.hidden=!1,!0):!1}render(){let t=document.createElement("style");t.innerText=w;let e="";this.shouldHideBackButton||(e=s`
        <button
          class="btn btn_icon btn_outline prev"
          type="button"
          aria-label="${this.backButtonLabel}"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 20 20"
            width="20"
            height="20"
            fill="currentColor"
          >
            <path fill-rule="evenodd" d="M17 10a.75.75 0 0 1-.75.75H5.612l4.158 3.96a.75.75 0 1 1-1.04 1.08l-5.5-5.25a.75.75 0 0 1 0-1.08l5.5-5.25a.75.75 0 1 1 1.04 1.08L5.612 9.25H16.25A.75.75 0 0 1 17 10Z" clip-rule="evenodd" />
          </svg>
        </button>
      `),this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=s`
      <div class="body">
        <div class="page">
          <slot name=""></slot>
          <div class="controls">
            ${e}
            <button class="btn next" type="button">
              ${this.nextButtonLabel}
            </button>
          </div>
        </div>
      </div>
    `,this.shadowRoot.prepend(t)}updatePages(){let t=this.pages,e=t.find(i=>!i.hidden);t.forEach(i=>{i!==e&&(i.hidden=!0)})}updateButtons(){let t=this.currentPage;t&&(this.backButton&&(this.backButton.hidden=this.isFirstPage(t)),t.valid?this.nextButton.removeAttribute("data-disabled"):this.nextButton.setAttribute("data-disabled",""),this.isLastPage(t)?(this.nextButton.setAttribute("type","submit"),this.nextButton.innerText=this.submitButtonLabel):(this.nextButton.setAttribute("type","button"),this.nextButton.innerText=this.nextButtonLabel))}handleChildrenChange(){this.updatePages(),this.updateButtons()}handleNextButtonClick(){let t=this.nextButton,e=this.currentPage;e&&e.valid&&(t.type==="submit"?this.submit():(this.goToPageAfter(e),this.updateButtons()))}handleBackButtonClick(){let t=this.currentPage;t&&(this.goToPageBefore(t),this.updateButtons())}handleQuizQuestionChange(t){let e=t.target;this.contains(e)&&this.updateButtons()}submit(){let t=window[this.getAttribute("onsubmit")||""];typeof t!="function"&&(t=this._submitHandler),t&&t(this.results,this)}connectedCallback(){this.defaultSlot.addEventListener("slotchange",this.handleChildrenChange),this.nextButton.addEventListener("click",this.handleNextButtonClick),this.backButton&&this.backButton.addEventListener("click",this.handleBackButtonClick),this.addEventListener(r.type,this.handleQuizQuestionChange)}disconnectedCallback(){this.defaultSlot.removeEventListener("slotchange",this.handleChildrenChange),this.nextButton.removeEventListener("click",this.handleNextButtonClick),this.backButton&&this.backButton.removeEventListener("click",this.handleBackButtonClick),this.removeEventListener(r.type,this.handleQuizQuestionChange)}};var m=':host{--title-margin:0 0 4px;--title-font-size:18px;--title-font-weight:700;--title-line-height:28px;--title-color:#101828;--message-font-size:16px;--message-font-weight:400;--message-line-height:24px;--message-color:#4a5565;--options-gap:16px;--options-margin:16px 0 0;text-align:center;width:100%;display:block}.title{margin:var(--title-margin);font-size:var(--title-font-size);font-weight:var(--title-font-weight);line-height:var(--title-line-height);color:var(--title-color);text-wrap:balance}slot[name=""]{gap:var(--options-gap);margin:var(--options-margin);display:grid}slot[name=message]{font-size:var(--message-font-size);font-weight:var(--message-font-weight);line-height:var(--message-line-height);color:var(--message-color);text-wrap:balance}';var c=class extends l{constructor(){super(),this.handleQuizOptionChange=this.handleQuizOptionChange.bind(this),this.render()}get options(){return Array.from(this.children).filter(t=>t instanceof d)}get value(){return this.options.filter(t=>t.checked).map(t=>t.value)}get result(){return{type:"checkbox",...super.result}}render(){let t=this.getAttribute("title")||"",e=document.createElement("style");e.innerText=m,this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`
      <div class="title">${t}</div>
      <slot name="message"></slot>
      <slot name=""></slot>
    `,this.shadowRoot.prepend(e)}handleQuizOptionChange(t){let e=t.target;this.options.includes(e)&&this.dispatchEvent(new r)}connectedCallback(){this.addEventListener(a.type,this.handleQuizOptionChange)}disconnectedCallback(){this.removeEventListener(a.type,this.handleQuizOptionChange)}};function Q(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1)+n)}function k(n=5){if(!Number.isInteger(n))throw new TypeError('Argument "length" must be an integer.');if(n<0)throw new RangeError('Argument "length" must be \u2265 0.');let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="";for(let i=0;i<n;i+=1)e+=t[Q(0,t.length-1)];return e}var y=":host{--max-width:576px;--padding:16px 16px 16px 24px;--font-size:14px;--font-weight:500;--line-height:20px;--color:#111827;--checked-color:#fff;--background:#fff;--checked-background:#111827;--border-width:1px;--border-style:solid;--border-color:#d1d5db;--border-radius:8px;--checked-border-color:#374151;--shadow:#0000000d 0px 1px 2px 0px;--checked-shadow:none;--focus-ring-color:#374151;--focus-ring-width:2px;--focus-ring-offset:2px;--check-icon-color:inherit;width:100%;display:block;position:relative}.input{opacity:0;position:absolute}.label{box-sizing:border-box;padding:var(--padding);font-family:inherit;font-size:var(--font-size);font-weight:var(--font-weight);line-height:var(--line-height);color:var(--color);text-align:left;background:var(--background);border-color:var(--border-color);border-style:var(--border-style);border-width:var(--border-width);border-radius:var(--border-radius);box-shadow:var(--shadow);grid-template-columns:1fr auto;display:grid}.check-icon{visibility:hidden;color:var(--check-icon-color)}.input:focus-visible~.label{outline:var(--focus-ring-color)solid var(--focus-ring-width);outline-offset:var(--focus-ring-offset)}.input:checked~.label{--color:var(--checked-color);--background:var(--checked-background);--border-color:var(--checked-border-color);--shadow:var(--checked-shadow)}.input:checked~.label>.check-icon{visibility:visible}";var a=class n extends CustomEvent{static get type(){return"quizOptionChange"}constructor(){super(n.type,{bubbles:!0})}},d=class extends HTMLElement{constructor(){super(),this.id=k(),this.handleChange=this.handleChange.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.render(),this.input.checked=this.hasAttribute("checked")}get parentQuestion(){let t=this.parentElement;for(;t;){if(t instanceof p||t instanceof c)return t;t=t.parentElement}return null}get value(){return this.getAttribute("value")||this.innerText||""}get input(){return this.shadowRoot.querySelector("input")}get checked(){return this.input.checked}set checked(t){this.setChecked(t,{shouldDispatchEvent:!0})}setChecked(t,e={}){this.input.checked=t,e.shouldDispatchEvent&&this.dispatchEvent(new a)}render(){let t=document.createElement("style");t.textContent=y,this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=s`
      <input id="${this.id}" class="input" type="checkbox">
      <label for="${this.id}" class="label">
        <slot name=""></slot>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 20 20"
          width="20"
          height="20"
          fill="currentColor"
          class="check-icon"
        >
          <path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd" />
        </svg>
      </label>
    `,this.shadowRoot.prepend(t)}handleChange(t){this.checked=t.target.checked}handleKeyDown(t){t.key==="Enter"&&(this.checked=!this.checked)}connectedCallback(){this.input.addEventListener("change",this.handleChange),this.input.addEventListener("keydown",this.handleKeyDown)}disconnectedCallback(){this.input.removeEventListener("change",this.handleChange),this.input.removeEventListener("keydown",this.handleKeyDown)}};var p=class extends l{constructor(){super(),this.handleQuizOptionChange=this.handleQuizOptionChange.bind(this),this.render()}get options(){return Array.from(this.children).filter(t=>t instanceof d)}get value(){let t=this.options.find(e=>e.checked);return t?t.value:""}get result(){return{type:"radio",...super.result}}render(){let t=this.getAttribute("title")||"",e=document.createElement("style");e.innerText=m,this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=s`
      <div class="title">${t}</div>
      <slot name="message"></slot>
      <slot name=""></slot>
    `,this.shadowRoot.prepend(e)}handleQuizOptionChange(t){let e=this.options,i=t.target;e.includes(i)&&(this.options.map(o=>{i!==o&&o.setChecked(!1)}),this.dispatchEvent(new r))}connectedCallback(){this.addEventListener(a.type,this.handleQuizOptionChange)}disconnectedCallback(){this.removeEventListener(a.type,this.handleQuizOptionChange)}};function g(n,t){customElements.get(n)===void 0&&customElements.define(n,t)}g("quiz-form",u);g("quiz-page",h);g("quiz-radio-group",p);g("quiz-checkbox-group",c);g("quiz-option",d);})();
